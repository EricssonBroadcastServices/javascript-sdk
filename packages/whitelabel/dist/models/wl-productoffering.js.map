{"version":3,"file":"wl-productoffering.js","sourceRoot":"/src/","sources":["models/wl-productoffering.ts"],"names":[],"mappings":"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","sourcesContent":["import { Translations } from \"./wl-translations\";\nimport { parseISOStringToDuration } from \"../utils/time\";\nimport { jsonProperty, OfferingPrice, ProductOffering } from \"@ericssonbroadcastservices/exposure-sdk\";\n\nexport class WLOfferingPrice extends OfferingPrice {\n  public getPriceWithVAT = (translations: Translations) => {\n    const vatString =\n      this.vat.percentage === 0\n        ? \"\"\n        : ` - ${this.vat.percentage}% ${\n            this.vat.included ? translations.getText(\"VAT_INCLUDED\") : translations.getText(\"VAT_NOT_INCLUDED\")\n          }`;\n    return this.price.getPriceWithCurrency() + vatString;\n  };\n  public getPricelessVAT = (translations: Translations) => {\n    const vatString =\n      this.vat.percentage === 0\n        ? \"\"\n        : `${this.vat.percentage}% ${\n            this.vat.included ? translations.getText(\"VAT_INCLUDED\") : translations.getText(\"VAT_NOT_INCLUDED\")\n          }`;\n    return vatString;\n  };\n}\n\nexport class WLProductOffering extends ProductOffering {\n  @jsonProperty({ type: WLOfferingPrice })\n  public offeringPrice: WLOfferingPrice;\n\n  public getRentalLengthString = (translations: Translations) => {\n    const duration = this.rentalLength\n      ? parseISOStringToDuration(this.rentalLength)\n      : parseISOStringToDuration(this.recurrence);\n    const months = duration.months;\n    const days = duration.days;\n    const hours = duration.hours;\n    const minutes = duration.minutes;\n\n    const monthText = months > 1 ? translations.getText([\"DATES\", \"MONTHS\"]) : translations.getText([\"DATES\", \"MONTH\"]);\n    const dayText = days > 1 ? translations.getText([\"DATES\", \"DAYS\"]) : translations.getText([\"DATES\", \"DAY\"]);\n    const hourText = hours > 1 ? translations.getText([\"DATES\", \"HOURS\"]) : translations.getText([\"DATES\", \"HOUR\"]);\n    const minuteText =\n      minutes > 1 ? translations.getText([\"DATES\", \"MINUTES\"]) : translations.getText([\"DATES\", \"MINUTE\"]);\n\n    return (\n      `${months > 0 ? months + ` ${monthText} ` : \"\"}` +\n      `${days > 0 ? days + ` ${dayText}` : \"\"}` +\n      `${hours > 0 ? hours + ` ${hourText} ` : \"\"}` +\n      `${minutes > 0 ? minutes + ` ${minuteText} ` : \"\"}`\n    );\n  };\n  public getRecurrenceString = (translations: Translations) => {\n    if (parseInt(this.getRentalLengthString(translations)) === 1) {\n      return this.getRentalLengthString(translations).replace(\"1\", \"\");\n    }\n    return this.getRentalLengthString(translations);\n  };\n}\n\nexport class ProductOfferingsResponse {\n  @jsonProperty({ type: ProductOffering })\n  public productOfferings: ProductOffering[] = [];\n}\n"]}